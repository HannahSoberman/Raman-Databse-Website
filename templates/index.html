<!DOCTYPE html>
<html lang="en">
<head>
    <title>Raman Molecule Explorer</title>
</head>
<body>
<h1>ðŸ”¬ Raman Database</h1>

<form method="POST">
    <label for="search">Search by frequency:</label>
    <input type="text" name="search" placeholder="wavenumber (cm^-1)">
    <label for="tolerance">Â± Tolerance:</label>
    <input type="number" name="tolerance" placeholder="e.g., 5" step="0.1" min="0">
    <button type="submit">Search</button>
</form>


<hr>

<form method="POST" enctype="multipart/form-data">
    <h3>Add a new entry</h3>
    <input type="text" name="name" placeholder="Molecule name" required>
    <input type="text" name="frequencies" placeholder="Wavenumbers list (cm^-1)" required>
    <input type="text" name="intensities" placeholder="Intensities (specify scale in desc.)">
    <input type="text" name="phase" placeholder="Phase (e.g., gas)">
    <input type="text" name="source" placeholder="Source or citation (e.g., DOI, paper)">
    <textarea name="description" placeholder="Experimental details (optional)" rows="3" cols="50"></textarea>
    <input type="file" name="image">
    <button type="submit">Add Entry</button>
</form>


{% if message %}
<p><strong>{{ message }}</strong></p>
{% endif %}

{% if results %}
<h2>Search Results:</h2>
<ul>
    {% for name, matched_freqs in results %}
    <li>
        <strong>{{ name }}</strong> - Matches:
        {{ matched_freqs | join(', ')}}
    </li>
    {% endfor %}
</ul>
{% endif %}
<hr>

<h3>ðŸ§ª Explore All Molecules</h3>
<ul>
    {% for id, name in molecules %}
    <li>
        <a href="{{ url_for('molecule_detail', id=id) }}">{{ name }}</a>
        <form action="{{ url_for('delete_molecule', id=id) }}" method="POST" style="display:inline;">
            <button type="submit" onclick="return confirm('Delete {{ name }}?');">ðŸ—‘</button>
        </form>
    </li>

    {% endfor %}
</ul>

</body>
</html>